<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Descobrindo a Bíblia – Ítalo Rocha</title>
<style>
body{
  margin:0; padding:0; font-family:Arial, sans-serif;
  display:flex; flex-direction:column; align-items:center;
  background:#f0f8ff;
}
header{width:100%; padding:15px; background:#16a34a; color:#fff; text-align:center; font-size:1.5rem;}
.app{width:90%; max-width:800px; margin-top:20px; text-align:center;}
button{padding:10px 15px; margin:5px; font-size:1rem; cursor:pointer; border-radius:8px; border:none; background:#16a34a; color:#fff; transition:all .3s;}
button:hover{background:#13843b;}
#gameArea{margin-top:20px;}
.draggable{width:80px; cursor:grab; margin:5px;}
.dropzone{width:120px; height:120px; border:3px dashed #16a34a; display:inline-block; margin:5px; vertical-align:top; border-radius:10px; background:#e0f2f1;}
.line{stroke:#16a34a; stroke-width:3; pointer-events:none;}
footer{position:fixed; bottom:0; width:100%; background:#16a34a; color:#fff; text-align:center; padding:8px;}
.correct{border:3px solid #16a34a; border-radius:10px;}
.wrong{border:3px solid #ef4444; border-radius:10px;}
</style>
</head>
<body>
<header>Descobrindo a Bíblia</header>
<div class="app" id="app">
  <div id="gameArea">
    <button onclick="startPhase()">Iniciar Fase 1 – Noé</button>
  </div>
</div>
<footer>© 2025 Ítalo Rocha</footer>

<script>
let phase = 0;

// Fases com tipos de atividades
const phases = [
  {title:"Fase 1 – Noé", type:"drag", desc:"Arraste os animais para a arca!", 
   arca:"https://i.imgur.com/4qJ4M2G.png", // Ilustração da arca
   animals:[
     {name:"Leão", img:"https://i.imgur.com/jU6zU7O.jpg"},
     {name:"Elefante", img:"https://i.imgur.com/O7Zc4nK.jpg"},
     {name:"Girafa", img:"https://i.imgur.com/dz3FQYw.jpg"}
   ]},
  {title:"Fase 2 – Jonas", type:"match", desc:"Ligue Jonas à baleia!", 
   items:[
     {name:"Jonas", img:"https://i.imgur.com/5Y5u6eP.png"},
     {name:"Baleia", img:"https://i.imgur.com/Z9PbxxR.png"}
   ]},
  {title:"Fase 3 – Davi", type:"quiz", desc:"Responda a pergunta:",
   questions:[
     {q:"Quem derrotou Golias com uma pedra e funda?", opts:["Saul","Davi","Elias"], a:1}
   ]}
];

function startPhase(){
  const ga = document.getElementById("gameArea");
  ga.innerHTML = "";
  showPhase();
}

function showPhase(){
  const ga = document.getElementById("gameArea");
  const p = phases[phase];
  const h = document.createElement("h2");
  h.textContent = p.title;
  ga.appendChild(h);
  const d = document.createElement("p");
  d.textContent = p.desc;
  ga.appendChild(d);

  if(p.type==="drag"){
    // Mostrar arca
    const arcaImg = document.createElement("img");
    arcaImg.src = p.arca;
    arcaImg.style.width = "200px";
    ga.appendChild(arcaImg);

    // Dropzone
    const dz = document.createElement("div");
    dz.className="dropzone";
    dz.ondragover = e=>e.preventDefault();
    dz.ondrop = e=>{
      e.preventDefault();
      const data = e.dataTransfer.getData("text");
      const el = document.getElementById(data);
      dz.appendChild(el);
      checkDragPhase();
    }
    ga.appendChild(dz);

    // Mostrar animais
    p.animals.forEach((a,i)=>{
      const img = document.createElement("img");
      img.src = a.img;
      img.id = "animal"+i;
      img.className="draggable";
      img.draggable = true;
      img.ondragstart = e=>{ e.dataTransfer.setData("text", e.target.id); }
      ga.appendChild(img);
    });

  } else if(p.type==="match"){
    const svgNS = "http://www.w3.org/2000/svg";
    const container = document.createElement("div");
    container.style.position="relative";
    container.style.height="250px";

    // Itens esquerda e direita
    p.items.forEach((item,i)=>{
      const left = document.createElement("img");
      left.src = item.img;
      left.style.width="100px";
      left.style.position="absolute";
      left.style.left="10px";
      left.style.top=50*i+"px";
      left.id="left"+i;
      container.appendChild(left);

      const right = document.createElement("img");
      right.src = item.img;
      right.style.width="100px";
      right.style.position="absolute";
      right.style.right="10px";
      right.style.top=50*i+"px";
      right.id="right"+i;
      container.appendChild(right);
    });
    ga.appendChild(container);
    const btn = document.createElement("button");
    btn.textContent="Próxima Fase";
    btn.onclick=nextPhase;
    ga.appendChild(btn);

  } else if(p.type==="quiz"){
    const q = p.questions[0];
    const hq = document.createElement("h3");
    hq.textContent = q.q;
    ga.appendChild(hq);
    q.opts.forEach((opt,i)=>{
      const b = document.createElement("button");
      b.textContent = opt;
      b.onclick = ()=>{ 
        if(i===q.a) alert("Acertou! Parabéns!");
        else alert("Errou!");
        nextPhase();
      };
      ga.appendChild(b);
    });
  }
}

function checkDragPhase(){
  const dz = document.querySelector(".dropzone");
  if(dz.children.length === phases[phase].animals.length){
    alert("Parabéns! Você completou a fase!");
    nextPhase();
  }
}

function nextPhase(){
  phase++;
  if(phase>=phases.length){
    document.getElementById("gameArea").innerHTML = `
      <h2>Parabéns! Você completou todas as fases!</h2>
      <button onclick="restartGame()">Voltar ao Início</button>
    `;
  } else showPhase();
}

function restartGame(){
  phase=0;
  document.getElementById("gameArea").innerHTML = `<button onclick="startPhase()">Iniciar Fase 1 – Noé</button>`;
}
</script>
</body>
</html>
