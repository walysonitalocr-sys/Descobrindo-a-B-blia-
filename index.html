<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Descobrindo a B√≠blia ‚Äî Fase 1: A Arca de No√©</title>
<style>
  :root{
    --bg:#e8f7ff; --card:#ffffff; --accent:#1b8f6b; --text:#07314a;
  }
  *{box-sizing:border-box}
  body{
    margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial; background:linear-gradient(180deg,var(--bg),#f7fdff);
    color:var(--text); display:flex;justify-content:center;padding:18px 12px 100px;
  }
  .wrap{width:100%;max-width:920px}
  header{display:flex;align-items:center;gap:14px;margin-bottom:10px}
  #logo{width:64px;height:64px;border-radius:12px;background:linear-gradient(180deg,#ffd89b,#ffb703)}
  h1{font-size:1.3rem;margin:0}
  .subtitle{color:#386; font-size:.95rem}
  .card{background:var(--card);border-radius:14px;padding:14px;box-shadow:0 10px 30px rgba(2,18,28,0.08)}
  .game-area{margin-top:14px}
  .top-row{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:12px}
  .instructions{font-size:1rem}
  .hearts{font-size:1.25rem}
  .stage{display:flex;gap:18px;flex-wrap:wrap;justify-content:center;align-items:flex-start}
  .leftCol{flex:1;min-width:320px}
  .rightCol{flex:1;min-width:280px}
  /* arca */
  .arcaWrap{display:flex;flex-direction:column;align-items:center;gap:8px}
  .arcaBox{width:360px;max-width:86vw;height:240px; border-radius:12px; overflow:hidden; border:4px solid #6b4b33; background:#fff; display:flex;align-items:flex-end; justify-content:center}
  .arcaBox img{width:100%;height:100%;object-fit:cover;display:block}
  .dropHint{position:relative;bottom:8px;background:rgba(255,255,255,0.85);padding:6px 10px;border-radius:999px;font-weight:700;color:#3b3b3b}
  /* animals pile */
  .pile{display:flex;flex-wrap:wrap;gap:12px;justify-content:center;padding:8px}
  .animal{
    width:110px;height:110px;border-radius:12px;background:#fff;box-shadow:0 8px 22px rgba(2,18,28,0.08);
    background-size:cover;background-position:center;cursor:grab;touch-action:none;display:flex;align-items:center;justify-content:center;
  }
  .animal.dragging{opacity:.6;transform:scale(.98)}
  .animal.hidden{visibility:hidden}
  .statusBar{display:flex;align-items:center;gap:12px;margin-top:10px;justify-content:center}
  .progress{width:240px;height:12px;background:#eef7f2;border-radius:999px;overflow:hidden}
  .progress > .bar{height:100%;width:0%;background:linear-gradient(90deg,var(--accent),#08a085);transition:width .4s}
  .msg{margin-top:12px;text-align:center;font-weight:700}
  .btn{padding:10px 14px;border-radius:10px;border:0;background:var(--accent);color:#fff;font-weight:700;cursor:pointer}
  footer{position:fixed;left:0;right:0;bottom:0;padding:8px 0;background:rgba(2,18,28,0.06);text-align:center;color:#024;font-weight:600}
  @media (max-width:640px){
    .animal{width:88px;height:88px}
    .arcaBox{height:200px}
  }
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div id="logo" aria-hidden></div>
      <div>
        <h1>Descobrindo a B√≠blia</h1>
        <div class="subtitle">Fase 1 ‚Äî A Arca de No√© (arrastar)</div>
      </div>
    </header>

    <div class="card game-area">
      <div class="top-row">
        <div class="instructions">Arraste cada animal para dentro da arca. Quando todos entrarem, aparece a mensagem final.</div>
        <div class="hearts" id="hearts">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div>
      </div>

      <div class="stage">
        <div class="leftCol card arcaWrap" style="align-items:center">
          <div style="font-weight:800;margin-bottom:6px">A Arca (coloque os animais aqui)</div>
          <div class="arcaBox" id="arca">
            <!-- imagem da arca conforme sua refer√™ncia JW -->
            <img id="arcaImg" src="https://cms-imgp.jw-cdn.org/img/p/1101978064/univ/art/1101978064_univ_lsr_lg.jpg" alt="Arca de No√©">
          </div>
          <div class="dropHint">Toque/arraste para colocar</div>
          <div class="msg" id="msg">Faltam <span id="remaining">5</span> animais</div>
        </div>

        <div class="rightCol card" style="display:flex;flex-direction:column;align-items:center">
          <div style="font-weight:800;margin-bottom:8px">Animais</div>
          <div class="pile" id="pile">
            <!-- imagens reais est√°veis (Wikimedia Commons) -->
            <div class="animal" id="lion" draggable="true" style="background-image:url('https://upload.wikimedia.org/wikipedia/commons/7/73/Lion_waiting_in_Namibia.jpg')" title="Le√£o"></div>

            <div class="animal" id="elephant" draggable="true" style="background-image:url('https://upload.wikimedia.org/wikipedia/commons/3/37/African_Bush_Elephant.jpg')" title="Elefante"></div>

            <div class="animal" id="giraffe" draggable="true" style="background-image:url('https://upload.wikimedia.org/wikipedia/commons/9/9f/Giraffe_standing.jpg')" title="Girafa"></div>

            <div class="animal" id="monkey" draggable="true" style="background-image:url('https://upload.wikimedia.org/wikipedia/commons/3/32/Capuchin_Costa_Rica.jpg')" title="Macaco"></div>

            <div class="animal" id="dove" draggable="true" style="background-image:url('https://upload.wikimedia.org/wikipedia/commons/3/3e/White_dove.jpg')" title="Pomba"></div>
          </div>

          <div style="margin-top:12px;display:flex;gap:8px">
            <button class="btn" id="resetBtn">Reiniciar Fase</button>
            <button class="btn" id="nextBtn" style="display:none;background:#2b6be4">Pr√≥xima Fase</button>
          </div>
        </div>
      </div>

    </div>
  </div>

  <footer>&copy; 2025 √çtalo Rocha</footer>

<script>
  // Estado
  const animals = Array.from(document.querySelectorAll('.animal'));
  const arca = document.getElementById('arca');
  const pile = document.getElementById('pile');
  const remainingEl = document.getElementById('remaining');
  const heartsEl = document.getElementById('hearts');
  const msgEl = document.getElementById('msg');
  const resetBtn = document.getElementById('resetBtn');
  const nextBtn = document.getElementById('nextBtn');

  let remaining = animals.length;
  let lives = 3;

  // mobile pointer drag fallback variables
  let pointerClone = null;
  let pointerSource = null;

  function updateUI(){
    remainingEl.textContent = remaining;
    heartsEl.textContent = '‚ù§Ô∏è'.repeat(lives) + 'ü§ç'.repeat(3 - lives);
  }

  // Drag events (desktop)
  animals.forEach(a=>{
    a.addEventListener('dragstart', (e)=>{
      e.dataTransfer.setData('text/plain', a.id);
      requestAnimationFrame(()=> a.classList.add('dragging'));
    });
    a.addEventListener('dragend', ()=>{
      a.classList.remove('dragging');
    });

    // pointer (touch) support
    a.addEventListener('pointerdown', (ev)=>{
      if(ev.pointerType === 'touch' || ev.pointerType === 'pen'){
        pointerSource = a;
        pointerClone = a.cloneNode(true);
        pointerClone.style.position = 'fixed';
        pointerClone.style.left = (ev.clientX - 50) + 'px';
        pointerClone.style.top  = (ev.clientY - 50) + 'px';
        pointerClone.style.pointerEvents = 'none';
        pointerClone.classList.add('dragging');
        document.body.appendChild(pointerClone);

        function moveHandler(e){
          pointerClone.style.left = (e.clientX - 50) + 'px';
          pointerClone.style.top  = (e.clientY - 50) + 'px';
        }
        function upHandler(e){
          document.removeEventListener('pointermove', moveHandler);
          document.removeEventListener('pointerup', upHandler);
          // check drop over arca
          const rect = arca.getBoundingClientRect();
          if(e.clientX >= rect.left && e.clientX <= rect.right && e.clientY >= rect.top && e.clientY <= rect.bottom){
            acceptAnimal(pointerSource.id);
            pointerSource.remove();
          }
          pointerClone.remove();
          pointerClone = null;
          pointerSource = null;
        }
        document.addEventListener('pointermove', moveHandler);
        document.addEventListener('pointerup', upHandler);
      }
    });
  });

  // arca drop (desktop)
  arca.addEventListener('dragover', (e)=> { e.preventDefault(); arca.style.boxShadow = '0 6px 24px rgba(0,0,0,0.12)'; });
  arca.addEventListener('dragleave', ()=> { arca.style.boxShadow = ''; });
  arca.addEventListener('drop', (e)=>{
    e.preventDefault();
    arca.style.boxShadow = '';
    const id = e.dataTransfer.getData('text/plain');
    const el = document.getElementById(id);
    if(el){
      acceptAnimal(id);
      el.remove(); // remove from pile
    }
  });

  function acceptAnimal(id){
    // mark as placed
    remaining = Math.max(0, remaining - 1);
    updateUI();
    // small visual feedback (no sound)
    const placed = document.createElement('div');
    placed.style.width = '36px';
    placed.style.height = '36px';
    placed.style.borderRadius = '6px';
    placed.style.background = 'rgba(255,255,255,0.7)';
    placed.style.position = 'absolute';
    // position randomly inside arca for fun
    const rect = arca.getBoundingClientRect();
    const x = rect.left + 30 + Math.random()*(rect.width - 60);
    const y = rect.top + 20 + Math.random()*(rect.height - 50);
    placed.style.left = (x - document.body.getBoundingClientRect().left) + 'px';
    placed.style.top  = (y - document.body.getBoundingClientRect().top) + 'px';
    placed.style.boxShadow = '0 6px 18px rgba(2,18,28,0.08)';
    document.body.appendChild(placed);
    setTimeout(()=>placed.remove(), 1200);

    if(remaining === 0){
      // show final message with verse
      msgEl.innerHTML = `Parab√©ns! Todos os animais est√£o na arca!<br><strong>Jeov√° ficou satisfeito com a obedi√™ncia de No√©.</strong><br><em>G√™nesis 6:22 ‚Äî ‚ÄúE No√© fez exatamente o que Deus lhe ordenou.‚Äù</em>`;
      nextBtn.style.display = 'inline-block';
    } else {
      msgEl.textContent = `Muito bem! Faltam ${remaining} animais.`;
    }
  }

  // optional: penalize wrong drops (if user drops outside arca)
  document.body.addEventListener('drop', (e)=>{
    // if drop is not on arca and source was pointerSource (touch), consider no-op
    // We avoid penalizing for simplicity (young children)
  });

  resetBtn.addEventListener('click', ()=>{
    // reset: restore animals
    pile.innerHTML = '';
    const items = [
      {id:'lion', src:'https://upload.wikimedia.org/wikipedia/commons/7/73/Lion_waiting_in_Namibia.jpg'},
      {id:'elephant', src:'https://upload.wikimedia.org/wikipedia/commons/3/37/African_Bush_Elephant.jpg'},
      {id:'giraffe', src:'https://upload.wikimedia.org/wikipedia/commons/9/9f/Giraffe_standing.jpg'},
      {id:'monkey', src:'https://upload.wikimedia.org/wikipedia/commons/3/32/Capuchin_Costa_Rica.jpg'},
      {id:'dove', src:'https://upload.wikimedia.org/wikipedia/commons/3/3e/White_dove.jpg'}
    ];
    items.forEach(it=>{
      const d = document.createElement('div');
      d.className = 'animal';
      d.id = it.id;
      d.style.backgroundImage = `url('${it.src}')`;
      d.draggable = true;
      d.addEventListener('dragstart', (e)=> { e.dataTransfer.setData('text/plain', d.id); requestAnimationFrame(()=> d.classList.add('dragging')); });
      d.addEventListener('dragend', ()=> d.classList.remove('dragging'));
      // pointer support
      d.addEventListener('pointerdown', (ev)=>{
        if(ev.pointerType === 'touch' || ev.pointerType === 'pen'){
          pointerSource = d;
          pointerClone = d.cloneNode(true);
          pointerClone.style.position = 'fixed';
          pointerClone.style.left = (ev.clientX - 50) + 'px';
          pointerClone.style.top  = (ev.clientY - 50) + 'px';
          pointerClone.style.pointerEvents = 'none';
          pointerClone.classList.add('dragging');
          document.body.appendChild(pointerClone);
          function moveHandler(e2){ pointerClone.style.left = (e2.clientX - 50) + 'px'; pointerClone.style.top = (e2.clientY - 50) + 'px'; }
          function upHandler(e2){
            document.removeEventListener('pointermove', moveHandler);
            document.removeEventListener('pointerup', upHandler);
            const rect = arca.getBoundingClientRect();
            if(e2.clientX >= rect.left && e2.clientX <= rect.right && e2.clientY >= rect.top && e2.clientY <= rect.bottom){
              acceptAnimal(d.id);
              d.remove();
            }
            pointerClone.remove();
            pointerClone = null;
            pointerSource = null;
          }
          document.addEventListener('pointermove', moveHandler);
          document.addEventListener('pointerup', upHandler);
        }
      });
      pile.appendChild(d);
    });
    remaining = items.length;
    lives = 3;
    updateUI();
    msgEl.textContent = `Arraste os animais para dentro da arca!`;
    nextBtn.style.display = 'none';
  });

  nextBtn.addEventListener('click', ()=>{
    // proceed to next phase (placeholder) ‚Äî you can replace with actual navigation
    alert('Pr√≥xima fase desbloqueada! (implemente a fase seguinte no mesmo arquivo)');
  });

  // initial UI
  updateUI();

  // initialize reset on load so events attach properly
  resetBtn.click();
</script>
</body>
</html>
